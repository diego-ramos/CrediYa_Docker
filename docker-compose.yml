services:
  # -------------------------
  # Microservicio: Autenticaci√≥n
  # -------------------------
  autenticacion:
    image: 557649279192.dkr.ecr.us-east-2.amazonaws.com/autenticacion:latest
    restart: always
    environment:
      SPRING_DATASOURCE_URL: r2dbc:mariadb://${AUTENTICACION_DB_ENDPOINT}:3306/crediya_authentication
      SPRING_DATASOURCE_USERNAME: ${AUTENTICACION_DB_USER}
      SPRING_DATASOURCE_PASSWORD: ${AUTENTICACION_DB_PASSWORD}
      AWS_REGION: ${AWS_REGION}
    depends_on: []
    
  # -------------------------
  # Microservicio: Solicitudes
  # -------------------------
  solicitudes:
    image: 557649279192.dkr.ecr.us-east-2.amazonaws.com/solicitudes:latest
    restart: always
    environment:
      SPRING_DATASOURCE_URL: r2dbc:mariadb://${SOLICITUDES_DB_ENDPOINT}:3306/crediya_applications
      SPRING_DATASOURCE_USERNAME: ${SOLICITUDES_DB_USER}
      SPRING_DATASOURCE_PASSWORD: ${SOLICITUDES_DB_PASSWORD}
      AWS_REGION: ${AWS_REGION}
    depends_on: []

  # -------------------------
  # Microservicio: Reportes
  # -------------------------
  reportes:
    image: 557649279192.dkr.ecr.us-east-2.amazonaws.com/reportes:latest
    restart: always
    environment:
      SPRING_DATASOURCE_URL: r2dbc:mariadb://${SOLICITUDES_DB_ENDPOINT}:3306/crediya_applications
      SPRING_DATASOURCE_USERNAME: ${SOLICITUDES_DB_USER}
      SPRING_DATASOURCE_PASSWORD: ${SOLICITUDES_DB_PASSWORD}
      AWS_REGION: ${AWS_REGION}
    depends_on: []
